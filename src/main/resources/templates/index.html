<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Bridge Bidding Tutor</title>
    <style>
        body {
            background-color: #228B22;
        }

        table {
            background-color: #228B22;
        }

        td {
            background-color: #228B22;
        }
    </style>
</head>

<body>
    <h1>Bridge Bidding Tutor</h1>
    <form th:action="@{/new-deal}" method="post">
        <button type="submit">Start New Deal</button>
    </form>

    <h2>Current Deal</h2>
    <table border="0" style="margin:auto;">
        <tr>
            <td></td>
            <td style="text-align:center;">
                <div th:with="handIndex=0">
                    <b>NORTH</b><br />
                    <div th:with="suits=${T(com.example.bridge.model.Card.Suit).values()}">
                        <div th:each="suit : ${suits}">
                            <span th:switch="${suit.name()}">
                                <span th:case="'CLUBS'">&#9827;</span>
                                <span th:case="'DIAMONDS'">&#9830;</span>
                                <span th:case="'HEARTS'">&#9829;</span>
                                <span th:case="'SPADES'">&#9824;</span>
                            </span>
                            <span th:each="card : ${handsBySuit[handIndex][suit.name()]}" th:text="${card}"></span><br />
                        </div>
                    </div>
                    <form th:action="@{/advice/{handIndex}(handIndex=${handIndex})}" method="get">
                        <button type="submit">Get Advice</button>
                    </form>
                </div>
            </td>
            <td></td>
        </tr>
        <tr>
            <td style="vertical-align:top; text-align:center;">
                <div th:with="handIndex=3">
                    <b>WEST</b><br />
                    <div th:with="suits=${T(com.example.bridge.model.Card.Suit).values()}">
                        <div th:each="suit : ${suits}">
                            <span th:switch="${suit.name()}">
                                <span th:case="'CLUBS'">&#9827;</span>
                                <span th:case="'DIAMONDS'">&#9830;</span>
                                <span th:case="'HEARTS'">&#9829;</span>
                                <span th:case="'SPADES'">&#9824;</span>
                            </span>
                            <span th:each="card : ${handsBySuit[handIndex][suit.name()]}" th:text="${card}"></span><br />
                        </div>
                    </div>
                    <form th:action="@{/advice/{handIndex}(handIndex=${handIndex})}" method="get">
                        <button type="submit">Get Advice</button>
                    </form>
                </div>
            </td>
            <td></td>
            <td style="vertical-align:top; text-align:center;">
                <div th:with="handIndex=1">
                    <b>EAST</b><br />
                    <div th:with="suits=${T(com.example.bridge.model.Card.Suit).values()}">
                        <div th:each="suit : ${suits}">
                            <span th:switch="${suit.name()}">
                                <span th:case="'CLUBS'">&#9827;</span>
                                <span th:case="'DIAMONDS'">&#9830;</span>
                                <span th:case="'HEARTS'">&#9829;</span>
                                <span th:case="'SPADES'">&#9824;</span>
                            </span>
                            <span th:each="card : ${handsBySuit[handIndex][suit.name()]}" th:text="${card}"></span><br />
                        </div>
                    </div>
                    <form th:action="@{/advice/{handIndex}(handIndex=${handIndex})}" method="get">
                        <button type="submit">Get Advice</button>
                    </form>
                </div>
            </td>
        </tr>
        <tr>
            <td></td>
            <td style="text-align:center;">
                <div th:with="handIndex=2">
                    <b>SOUTH</b><br />
                    <div th:with="suits=${T(com.example.bridge.model.Card.Suit).values()}">
                        <div th:each="suit : ${suits}">
                            <span th:switch="${suit.name()}">
                                <span th:case="'CLUBS'">&#9827;</span>
                                <span th:case="'DIAMONDS'">&#9830;</span>
                                <span th:case="'HEARTS'">&#9829;</span>
                                <span th:case="'SPADES'">&#9824;</span>
                            </span>
                            <span th:each="card : ${handsBySuit[handIndex][suit.name()]}" th:text="${card}"></span><br />
                        </div>
                        </div>
                    <form th:action="@{/advice/{handIndex}(handIndex=${handIndex})}" method="get">
                        <button type="submit">Get Advice</button>
                    </form>
                </div>
            </td>
            <td></td>
        </tr>
    </table>

    <h2>Bidding</h2>
    <ul>
        <li th:each="bid : ${biddingHistory}" th:text="${bid}"></li>
    </ul>
    <form th:action="@{/make-bid}" method="post">
        <label>Level:
            <select name="level">
                <option th:each="i : ${#numbers.sequence(1,7)}" th:value="${i}" th:text="${i}"></option>
            </select>
        </label>
        <label>Suit:
            <select name="suit">
                <option th:value="${T(com.example.bridge.model.Card.Suit).SPADES}">
                    <span>&#9824;</span>
                </option>
                <option th:value="${T(com.example.bridge.model.Card.Suit).HEARTS}">
                    <span>&#9829;</span>
                </option>
                <option th:value="${T(com.example.bridge.model.Card.Suit).DIAMONDS}">
                    <span>&#9830;</span>
                </option>
                <option th:value="${T(com.example.bridge.model.Card.Suit).CLUBS}">
                    <span>&#9827;</span>
                </option>
            </select>
        </label>
        <button type="submit">Bid</button>
        <button type="submit" name="pass" value="true">Pass</button>
    </form>
</body>

</html>
